---
title: 彩色图像处理
tags: 数字图像处理
---
## 彩色基础

光特性是颜色科学的核心，描述彩色光的3个基本量：

- 辐射率：从光源流出能量的总量，用瓦特(W)度量
- 光强：观察者从光源接收的能量总和，用流明度表示
- 亮度：主观描绘子

人眼中的600—700万个锥状体分别对红色、绿色和蓝色敏感：65%对红光敏感、 33%对绿光敏感、 2%对蓝光敏感。红色、绿色和蓝色是波形，而非一个值，只是人为确定一个值而已。

### 三基色(RGB)原理

自然界常见的各种颜色光，都是由红(R)($\lambda$=700nm)、绿(G) ($\lambda$=546nm)、蓝(B)($\lambda$=435.8nm)三种颜色光按不同比例相配而成，同样绝大多数颜色也可以分解成红、绿、蓝三种单色光，这就是色度学中最基本的原理—三基色原理。（红色+绿色=黄色，红色+蓝色=品红，绿色+蓝色=青色，红色+绿色+蓝色=白色）

### 颜色的确定

区别颜色的特性：亮度、色调、色饱和度。

颜色通常用亮度和彩色表征，色调和饱和度统称为彩色色度。

RGB 24比特彩色立方体，用3个字节来表示颜色。

## 彩色模型

- RGB彩色模型（216种安全RGB色）：**加性空间**，与人眼视觉系统密切相连。
  - RGBA：加上透明通道
  - sRGB(standard)：Microsoft
  - Adobe RGB：打印出来更接近原色
- CMY和CMYK模型：充满颜色时，为黑色；没有颜色时，为白色；使用RGB的补色做基本色：青（Cyan）、品红（Magenta）和黄(Yellow)；C(青)=W(白)-R(红)；M(品红)=  W(白)-G(绿)；Y(黄)=W(白)-B(蓝)；CMYK是印刷业的标准，在印刷时，用这种方法显示黑色时，油墨很少能将颜色都吸收掉，深色效果较差，故加入一种黑色K。
- HSI彩色模型：H ( Hue )色调指光的颜色，如赤、橙、黄、绿、青、蓝、紫为基色调。它是以单一波长得到的成分。S（Saturation）饱和度指色彩纯度的程度，加入的白光越多就饱和度越低。I( Intensity)亮度指彩色光对人眼引起的光刺激强度，它与光的能量有关。
  - I分量与图像的彩色信息无关
  - H和S分量与人感受颜色的方式是紧密相连的
  - 将亮度(I)与色调（H）和饱和度（S）分开，避免颜色收到光照明暗(I)等条件的干扰，仅仅分析反映色彩本质的色调和饱和度
  - 广泛用于计算机视觉、图像检索和视频检索
- CIE：第一个基于人类视觉感知的颜色空间。CIE-XYZ(1931)是在RGB系统的基础上，用数学方法，选用三个理想的原色来代替实际的三原色，从而将CIE-RGB系统中的光谱三刺激值和色度坐标r、g、b均变为正值。
- Lab：Lab模式既不依赖光线，也不依赖于颜料，它是CIE组织确定的一个理论上包括了人眼可以看见的所有色彩的色彩模式。Lab模式弥补了RGB和CMYK两种色彩模式的不足。同RGB颜色空间相比，Lab是一种不常用的色彩空间。它是一种设备无关的颜色系统，也是一种基于生理特征的颜色系统。这也就意味着，它是用数字化的方法来描述人的视觉感应。Lab颜色空间中的L分量用于表示像素的亮度，取值范围是$[0,100]$,表示从纯黑到纯白；a表示从红色到绿色的范围，取值范围是$[127,-128]$；b表示从黄色到蓝色的范围，取值范围是$[127,-128]$。
- YUV：明亮度(Y, Luminance/Luma)即灰阶值、色度(U/V, Chrominance/Chroma)用于指定像素颜色。包括YCbCr、YPbPr、YUV、Y'UV等，后两者通常用来编码电视的模拟信号，YCbCr用来描述数字的视频信号，适合视频与图片压缩以及传输，例如MPEG、JPEG。

## 伪彩色处理

人类可以辨别上千种颜色和强度，只能辨别二十几种灰度，根据一定的准则对灰度值赋以彩色的处理（区分：伪彩色图像、真彩色图像、单色图像），也叫假彩色图像处理。

### 强度分层

- 把一幅图像描述为三维函数（x, y, f( x, y)）
- 分层技术：放置平行于(x, y)坐标面的平面
- 每一个平面在相交区域切割图像函数

### 强度分层技术

令$[0,L-1]$表示灰度级，使$l_0$代表黑色（$f(x,y)=0$），$l_{L-1}$代表白色（$f(x,y)=1$）。假设垂直于强度轴的$P$个平面定义为量级$l_1,l_2,\ldots,l_p$，将灰度级分为$P+1$个间隔，$V_1,V_2,\ldots,V_{P+1}$，则灰度级到彩色的赋值关系：$f(x,y)=c_k,f(x,y)\in V_k$，$c_k$是与强度间隔$V_k$级强度相关的颜色，$V_k$是由$l=k-1$和$l=k$分割平面定义的。

### 灰度级到彩色转换

对任何输入像素的灰度级执行3个独立变换，3个变换结果分别送入彩色监视器的红、绿、蓝三个通道，产生一幅合成图像。

## 全彩色图像处理基础

全彩色图像处理研究分为两大类:

- 分别处理每一分量图像，然后，合成彩色图像
- 直接对彩色像素处理：3个颜色分量表示像素向量。令c代表RGB彩色空间中的任意向量

## 彩色变换

彩色变换函数：$g(x,y)=T[f(x,y)]$，$T$是在空间领域$(x,y)$上对$f$的操作。

补色：在如图所示的彩色环上，与一种色调直接相对立的另一色调称为补色。可以增强嵌在彩色图像暗区的细节。

## 平滑和尖锐化

### 彩色图像平滑

令$s_{x,y}$表示在RGB彩色图像中定义一个中心在$(x, y)$
的邻域的坐标集，在该邻域中RGB分量的平均值为$\overline{c}(x,y)=\frac{1}{k}\sum_{(x,y)\in s_{x,y}}c(x,y)$

### 彩色图像的锐化

RGB彩色空间，分别计算每一分量图像的拉普拉斯变换，再合并

## 彩色分割

### HSI彩色空间分割：直观

- H色调图像方便描述彩色
- S饱和度图像做模板分离感兴趣的特征区
- I强度图像不携带彩色信息

门限产生的二值图像：饱和度图像中门限值等于最大饱和度的10%，大于门限的像素赋1，其它赋0

### RGB彩色空间：直接，结果更好

令z代表RGB空间中的任意一点，a是分割颜色样本集的平均颜色向量$D(z,a)=|\vec{z}-\vec{a}|$。D0是距离（欧氏距离）阈值，如果$D(z,a)\le D_0$，则z和a相似；如果$D(z,a)>D_0$,则$z$和$a$不相似。

### 彩色边缘检测

处理3个独立平面形成的合成梯度图可导致错误的结果！Di Zenzo提出处理方法。
